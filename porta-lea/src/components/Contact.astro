---
// src/components/Contact.astro
---

<section id="contacto" class="py-32 bg-[#1e1e1e] relative overflow-hidden font-sans">
  <div class="absolute inset-0 opacity-[0.4] pointer-events-none" style="background-image: radial-gradient(#D1CCBD 1px, transparent 1px); background-size: 40px 40px;"></div>
  
  <div class="max-w-4xl mx-auto px-6 relative z-10 text-center">
    <div class="mb-12">
      <div class="flex justify-center items-center gap-3 mb-6">
        <span class="w-12 h-[2px] bg-[#E85A4F]"></span>
        <span class="font-mono text-xs uppercase tracking-[0.3em] text-[#8E8D8A]">Contacto_Directo</span>
        <span class="w-12 h-[2px] bg-[#E85A4F]"></span>
      </div>
      
      <h2 class="text-5xl md:text-7xl font-bold text-[#1A1A1A] tracking-tighter mb-8 leading-tight">
        Hablemos de tu <br/>
        <span class="text-[#E85A4F]">próximo proyecto.</span>
      </h2>

      <p class="text-[#403B33]/70 text-lg md:text-xl max-w-2xl mx-auto mb-16 leading-relaxed">
        Actualmente disponible para nuevas vacantes, consultas de análisis de datos o proyectos de desarrollo full-stack.
      </p>
    </div>

    <div class="flex flex-col md:flex-row justify-center items-stretch gap-6">
      
      <button
        id="copy-email-btn"
        class="flex-1 group flex flex-col items-center justify-center p-8 bg-white border border-[#D1CCBD]/50 rounded-2xl shadow-sm hover:shadow-xl hover:shadow-[#403B33]/5 hover:border-[#403B33] transition-all duration-500"
      >
        <div class="mb-4 p-3 bg-[#F3F0E8] rounded-full text-[#403B33] group-hover:bg-[#403B33] group-hover:text-white transition-all duration-500">
          <svg id="email-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
          </svg>
          <svg id="check-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="#A6E3A1" stroke-width="3">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
          </svg>
        </div>

        <span class="text-[10px] text-[#8E8D8A] uppercase font-bold tracking-widest mb-1">Click para copiar</span>
        <span id="email-text" class="text-[#1A1A1A] font-mono text-base md:text-lg font-bold truncate w-full">
          leasotompriv@gmail.com
        </span>
      </button>

      <a
        href="https://www.linkedin.com/in/leandro-soto-miranda-767a72264/"
        target="_blank"
        rel="noopener noreferrer"
        class="flex-1 group flex flex-col items-center justify-center p-8 bg-white border border-[#D1CCBD]/50 rounded-2xl shadow-sm hover:shadow-xl hover:shadow-[#403B33]/5 hover:border-[#0077B5] transition-all duration-500"
      >
        <div class="mb-4 p-3 bg-[#F3F0E8] rounded-full text-[#403B33] group-hover:bg-[#0077B5] group-hover:text-white transition-all duration-500">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M19 0h-14c-2.76 0-5 2.24-5 5v14c0 2.76 2.24 5 5 5h14c2.76 0 5-2.24 5-5v-14c0-2.76-2.24-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.27c-.97 0-1.75-.79-1.75-1.76s.78-1.75 1.75-1.75 1.75.78 1.75 1.75-.78 1.76-1.75 1.76zm13.5 11.27h-3v-5.6c0-1.34-.03-3.07-1.87-3.07-1.87 0-2.16 1.46-2.16 2.97v5.7h-3v-10h2.88v1.37h.04c.4-.75 1.37-1.54 2.83-1.54 3.03 0 3.59 1.99 3.59 4.58v5.59z" />
          </svg>
        </div>

        <span class="text-[10px] text-[#8E8D8A] uppercase font-bold tracking-widest mb-1">Red Profesional</span>
        <span class="text-[#1A1A1A] font-sans text-base md:text-lg font-bold">linkedin.com/in/leandro</span>
      </a>
    </div>
  </div>
</section>

<script>
  const copyButton = document.getElementById("copy-email-btn");
  const emailIcon = document.getElementById("email-icon");
  const checkIcon = document.getElementById("check-icon");
  const emailText = document.getElementById("email-text");
  const email = "leasotompriv@gmail.com";

  if (copyButton && emailIcon && checkIcon && emailText) {
    copyButton.addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(email);

        emailIcon.classList.add("hidden");
        checkIcon.classList.remove("hidden");
        emailText.textContent = "COPIADO_EXITO.TXT";
        emailText.style.color = "#E85A4F";

        setTimeout(() => {
          emailIcon.classList.remove("hidden");
          checkIcon.classList.add("hidden");
          emailText.textContent = email;
          emailText.style.color = "#1A1A1A";
        }, 2000);
      } catch (err) {
        console.error("Error:", err);
      }
    });
  }
</script>